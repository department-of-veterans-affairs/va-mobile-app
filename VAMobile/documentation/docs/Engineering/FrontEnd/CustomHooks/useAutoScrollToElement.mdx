import HooksInfo from '../../../../src/components/HooksInfo'

export const exampleString = `const [scrollRef, messageRef, scrollToSelectedMessage] = useAutoScrollToElement()\n
useEffect(() => {
    if (!loading && isTransitionComplete) {
      scrollToSelectedMessage()
    }
}, [loading, isTransitionComplete, scrollToSelectedMessage])\n
export const renderMessages = (message: SecureMessagingMessageAttributes, messagesById: SecureMessagingMessageMap, thread: Array<number>, messageRef?: Ref<View>): ReactNode => {
  const threadMessages = thread.map((messageID) => messagesById[messageID]).sort((message1, message2) => (message1.sentDate < message2.sentDate ? -1 : 1))
  return threadMessages.map(
    (m) =>
      m &&
      m.messageId && (
        <CollapsibleMessage
          key={m.messageId}
          message={m}
          isInitialMessage={m.messageId === message.messageId}
          collapsibleMessageRef={m.messageId === message.messageId ? messageRef : undefined}
        />
      ),
  )
}\n
return (
<>
    <VAScrollView {...testIdProps('ViewMessage-page')} scrollViewRef={scrollRef}>
    <Box mt={theme.dimensions.standardMarginBetween} mb={theme.dimensions.condensedMarginBetween}>
        <Box borderColor={'primary'} borderBottomWidth={'default'} p={theme.dimensions.cardPadding}>
        <TextView variant="BitterBoldHeading" accessibilityRole={'header'}>
            {formatSubject(category, subject, t)}
        </TextView>
        </Box>
        {renderMessages(message, messagesById, thread, messageRef)}
    </Box>
    {replyExpired && (
        <Box mt={theme.dimensions.standardMarginBetween} mx={theme.dimensions.gutter} mb={theme.dimensions.contentMarginBottom}>
        <AlertBox border={'warning'} title={t('secureMessaging.reply.youCanNoLonger')} text={t('secureMessaging.reply.olderThan45Days')}>
            <Box mt={theme.dimensions.standardMarginBetween}>
            <VAButton
                label={t('secureMessaging.startNewMessage.new')}
                onPress={onPressCompose}
                buttonType={'buttonPrimary'}
                a11yHint={t('secureMessaging.startNewMessage.new.a11yHint')}
            />
            </Box>
        </AlertBox>
        </Box>
    )}
    </VAScrollView>
    {!replyExpired && <ReplyMessageButton messageID={messageID} />}
</>
)`

<HooksInfo componentName="useAutoScrollToElement" example={exampleString}/>
