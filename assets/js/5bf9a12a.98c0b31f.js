(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[9197],{20734:function(e,n,r){"use strict";r.r(n),r.d(n,{contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return o},metadata:function(){return u},toc:function(){return d}});var t=r(87462),a=r(63366),i=(r(67294),r(3905)),p=r(93456),s=["components"],o={},c=void 0,u={unversionedId:"Engineering/Architecture/Auth Diagrams",id:"Engineering/Architecture/Auth Diagrams",title:"Auth Diagrams",description:"",source:"@site/docs/Engineering/Architecture/Auth Diagrams.md",sourceDirName:"Engineering/Architecture",slug:"/Engineering/Architecture/Auth Diagrams",permalink:"/va-mobile-app/docs/Engineering/Architecture/Auth Diagrams",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Releases",permalink:"/va-mobile-app/docs/Engineering/Releases"},next:{title:"Intro",permalink:"/va-mobile-app/docs/Engineering/Architecture/Intro"}},d=[],A={toc:d};function m(e){var n=e.components,r=(0,a.Z)(e,s);return(0,i.kt)("wrapper",(0,t.Z)({},A,r,{components:n,mdxType:"MDXLayout"}),(0,i.kt)(p.Mermaid,{chart:"sequenceDiagram\n    title: Username and Password Authorization Flow\n    participant User\n    participant App\n    participant Server\n    User->>App: Enter username and password\n    App->>Server: Send username and password\n    Server--\x3e>App: Send auth result\n    App--\x3e>User: Display auth result",mdxType:"Mermaid"}),(0,i.kt)(p.Mermaid,{chart:"sequenceDiagram\n    title: Biometrics Flow for Username and Password Initial Login\n    participant User\n    participant Keychain\n    participant App\n    participant Server\n    User->>App: Enter username and password\n    App--\x3e>User: Do you want to login with biometrics next time?\n    User->>App: Yes!\n    App->>Keychain: Here is the username and pw for this app, keep it safe, please\n    App->>Server: Send username and password\n    Server--\x3e>App: Send auth result\n    App--\x3e>User: Display auth result",mdxType:"Mermaid"}),(0,i.kt)(p.Mermaid,{chart:"sequenceDiagram\n    title: Biometrics Flow for Username and Password Subsequent Login\n    participant User\n    participant Keychain\n    participant App\n    participant Server\n    App->>Keychain: Is there a username and pw saved for this app?\n    Keychain--\x3e>App: Yes there is!\n    App->>User: Can I please have your biometrics?\n    User--\x3e>App: Here you go!\n    App->>Keychain: Here are the biometrics, can you send the username/pw to me?\n    Keychain--\x3e>App: Here are the username and pw.\n    App->>Server: Send username and password\n    Server--\x3e>App: Send auth result\n    App--\x3e>User: Display auth result",mdxType:"Mermaid"}),(0,i.kt)(p.Mermaid,{chart:"sequenceDiagram\n    title: VA: Health and Benefits Biometrics Initial Login\n    participant User\n    participant Secure App Storage\n    participant App\n    participant IAM\n    participant Identity Provider\n    User->>App: Tap Login button\n    App->>IAM: Start the sign in process\n    IAM->>User: Which Identity Provider do you want?\n    User--\x3e>IAM: This one please.\n    IAM--\x3e>Identity Provider: Please authenticate this person at IAL2/AAL2/LOA3\n    Identity Provider->>User: Please send your username and password\n    User--\x3e>Identity Provider: Here they are\n    Identity Provider--\x3e>IAM: It's them, I'm sure of it\n    IAM--\x3e>App: Here is a code to get your tokens\n    App->>IAM: Please create a token and session for me\n    IAM--\x3e>App: Done and done! Here is the token\n    App->>User: Do you want to use biometrics to log in?\n    User--\x3e>App: Yes please!\n    App->>Secure App Storage: Please hang on to this for us and lock it with biometrics\n    Secure App Storage--\x3e>App: You got it!\n    App--\x3e>User: Display Auth Result",mdxType:"Mermaid"}),(0,i.kt)(p.Mermaid,{chart:"sequenceDiagram\n    title: VA: Health and Benefits Biometrics Subsequent Login\n    participant User\n    participant Secure App Storage\n    participant App\n    participant IAM\n    App->>Secure App Storage: Is there a stored token?\n    Secure App Storage--\x3e>App: Yes there is\n    App->>User: Can I please have your biometrics?\n    User--\x3e>App: Here you go!\n    App->>Secure App Storage: Here are the biometrics, can you send the token to me?\n    Secure App Storage--\x3e>App: Here it is!\n    App->>IAM: Can I get a refreshed token, please? Here is the old one.\n    IAM--\x3e>App: Here you go, one new token.\n    App--\x3e>User: Display Auth Result",mdxType:"Mermaid"}))}m.isMDXComponent=!0},11748:function(e,n,r){var t={"./locale":89234,"./locale.js":89234};function a(e){var n=i(e);return r(n)}function i(e){if(!r.o(t,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t[e]}a.keys=function(){return Object.keys(t)},a.resolve=i,e.exports=a,a.id=11748}}]);