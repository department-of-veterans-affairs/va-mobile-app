"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[9480],{28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var t=i(96540);const s={},o=t.createContext(s);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(o.Provider,{value:n},e.children)}},94653:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"DevOps/AutomationCodeDocs/SigningKeys/firebase","title":"Firebase signing keys","description":"Overview","source":"@site/development/DevOps/AutomationCodeDocs/SigningKeys/firebase.md","sourceDirName":"DevOps/AutomationCodeDocs/SigningKeys","slug":"/DevOps/AutomationCodeDocs/SigningKeys/firebase","permalink":"/va-mobile-app/development/DevOps/AutomationCodeDocs/SigningKeys/firebase","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Apple signing keys","permalink":"/va-mobile-app/development/DevOps/AutomationCodeDocs/SigningKeys/apple"},"next":{"title":"Google signing keys","permalink":"/va-mobile-app/development/DevOps/AutomationCodeDocs/SigningKeys/google"}}');var s=i(74848),o=i(28453);const r={},a="Firebase signing keys",d={},c=[{value:"Overview",id:"overview",level:2},{value:"Location in the CI",id:"location-in-the-ci",level:2},{value:"ENV Constants for the keys",id:"env-constants-for-the-keys",level:3},{value:"Firebase Cloud Messaging Service Account",id:"firebase-cloud-messaging-service-account",level:3},{value:"More Documentation",id:"more-documentation",level:2}];function l(e){const n={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"firebase-signing-keys",children:"Firebase signing keys"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"In order to use any of the Firebase plugins in our application we need to include the correct configuration keys in the build."}),"\n",(0,s.jsxs)(n.p,{children:["The current Firebase configuration files can be downloaded from the ",(0,s.jsx)(n.a,{href:"https://console.firebase.google.com/u/0/project/va-mobile-app/settings/general/android:gov.va.mobileapp",children:"project page settings page"})]}),"\n",(0,s.jsxs)(n.p,{children:["If you need to create new keys because they were leaked or for any other reason you will need to follow the ",(0,s.jsx)(n.a,{href:"https://firebase.google.com/docs/guides?authuser=0",children:"Getting Started Menu here"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Android QA and other staging versions are distributed with Firebase Distribution and this file is also help in a base64 string in the CI"}),"\n",(0,s.jsx)(n.h2,{id:"location-in-the-ci",children:"Location in the CI"}),"\n",(0,s.jsx)(n.p,{children:"Apple and Android certificates are stored in GitHub as base64 strings that are decoded by the CI when they are needed."}),"\n",(0,s.jsx)(n.h3,{id:"env-constants-for-the-keys",children:"ENV Constants for the keys"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Key Name"}),(0,s.jsx)(n.th,{children:"ENV String"}),(0,s.jsx)(n.th,{children:"Location ENV String"}),(0,s.jsx)(n.th,{children:"Decoded Location"}),(0,s.jsx)(n.th,{children:"CI Command"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Apple Google Services plist"}),(0,s.jsx)(n.td,{children:"IOS_GS_PLIST_BASE64"}),(0,s.jsx)(n.td,{children:"IOS_GS_PLIST_PATH"}),(0,s.jsx)(n.td,{children:"~/project/VAMobile/ios/GoogleService-Info.plist"}),(0,s.jsx)(n.td,{children:"decode_ios_keys"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Android Google Services json"}),(0,s.jsx)(n.td,{children:"GOOGLE_SERVICES_JSON"}),(0,s.jsx)(n.td,{children:"GOOGLE_SERVICES_PATH"}),(0,s.jsx)(n.td,{children:"~/project/VAMobile/android/app/google-services.json"}),(0,s.jsx)(n.td,{children:"decode_android_keys"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Firebase Distribution Key"}),(0,s.jsx)(n.td,{children:"FIREBASE_DIST_FILE_BASE64"}),(0,s.jsx)(n.td,{children:"FIREBASE_DIST_DECODE_PATH"}),(0,s.jsx)(n.td,{children:"~/project/VAMobile/android/keys/firebase-dist.json"}),(0,s.jsx)(n.td,{children:"decode_android_keys"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"firebase-cloud-messaging-service-account",children:"Firebase Cloud Messaging Service Account"}),"\n",(0,s.jsxs)(n.p,{children:["Although push notifications (PN) use the VANotify API to deliver PNs to the app, we still need to provide a service account token to verify the messages through ",(0,s.jsx)(n.a,{href:"https://firebase.google.com/docs/cloud-messaging",children:"Firebase Cloud Messaging"}),". This token rarely needs to be updated. This private key can be generated through the ",(0,s.jsx)(n.a,{href:"https://console.firebase.google.com/u/0/project/va-mobile-app/settings/serviceaccounts/adminsdk",children:"service account section of the firebase console"})," and installed in Amazon Web Services (AWS). ",(0,s.jsx)(n.a,{href:"https://docs.aws.amazon.com/sns/latest/dg/sns-fcm-authentication-methods.html",children:"Read AWS messaging token installation documentation"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"more-documentation",children:"More Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://firebase.google.com/docs/cloud-messaging/migrate-v1",children:"Cloud messaging documentation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://firebase.google.com/?authuser=0",children:"Firebase Documentation Site"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://firebase.google.com/products/app-distribution?authuser=0",children:"Firebase Distribution Documentation"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);