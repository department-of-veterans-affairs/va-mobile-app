"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[1301],{28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>s});var i=t(96540);const r={},o=i.createContext(r);function a(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(o.Provider,{value:n},e.children)}},98765:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"BackEnd/Architecture/Devops","title":"Environment variables, secrets, and the parameter store","description":"When storing sensitive information that cannot be publicly exposed, it must be stored in AWS and referenced in a specific manner.","source":"@site/development/BackEnd/Architecture/Devops.md","sourceDirName":"BackEnd/Architecture","slug":"/BackEnd/Architecture/Devops","permalink":"/va-mobile-app/development/BackEnd/Architecture/Devops","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Environment variables, secrets, and the parameter store"},"sidebar":"tutorialSidebar","previous":{"title":"Continuous integration and deployment","permalink":"/va-mobile-app/development/BackEnd/Architecture/ContinuousIntegrationAndDeployment"},"next":{"title":"Directory layout","permalink":"/va-mobile-app/development/BackEnd/Architecture/DirectoryLayout"}}');var r=t(74848),o=t(28453);const a={title:"Environment variables, secrets, and the parameter store"},s=void 0,c={},d=[{value:"Creating and Referencing Settings in the Parameter Store",id:"creating-and-referencing-settings-in-the-parameter-store",level:2},{value:"Mobile-specific Naming Conventions",id:"mobile-specific-naming-conventions",level:3},{value:"Devops Repo",id:"devops-repo",level:2}];function l(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"When storing sensitive information that cannot be publicly exposed, it must be stored in AWS and referenced in a specific manner."}),"\n",(0,r.jsx)(n.h2,{id:"creating-and-referencing-settings-in-the-parameter-store",children:"Creating and Referencing Settings in the Parameter Store"}),"\n",(0,r.jsxs)(n.p,{children:["Please consult the detailed and evolving process for using the Parameter Store in the Platform Documentation: ",(0,r.jsx)(n.a,{href:"https://depo-platform-documentation.scrollhelp.site/developer-docs/settings-and-parameter-store",children:"Settings and Parameter Store"})]}),"\n",(0,r.jsx)(n.h3,{id:"mobile-specific-naming-conventions",children:"Mobile-specific Naming Conventions"}),"\n",(0,r.jsxs)(n.p,{children:["If a setting is different between modalities (web and mobile), consider appending ",(0,r.jsx)(n.code,{children:"_mobile"})," to a setting key. For example, the tokens and API keys are different between mobile and web for MHV/RX, so we've defined the following:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"mhv:\n  rx:\n    app_token: <%= ENV['mhv__rx__app_token'] %>\n    x_api_key: <%= ENV['mhv__rx__x_api_key'] %>\nmhv_mobile:\n  rx:\n    app_token: <%= ENV['mhv_mobile__rx__app_token'] %>\n    x_api_key: <%= ENV['mhv_mobile__rx__x_api_key'] %>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Otherwise, use the same conventions, i.e. ",(0,r.jsx)(n.code,{children:"/dsva-vagov/vets-api/staging/env_vars/my_setting/value"}),", as defined in the documentation or the setting will not be properly loaded."]}),"\n",(0,r.jsx)(n.h2,{id:"devops-repo",children:"Devops Repo"}),"\n",(0,r.jsxs)(n.p,{children:["If you'd like to use these values in review instances, after updating the vets-api repo, add the variables to the ",(0,r.jsx)(n.a,{href:"https://github.com/department-of-veterans-affairs/devops",children:"devops repo"})," in ",(0,r.jsx)(n.code,{children:"ansible/roles/review-instance-configure/vars/settings.local.yml"})]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);