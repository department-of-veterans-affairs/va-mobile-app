"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5090],{439:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/datadog-search-location-b8446863fed93080a347912458c5eb44.png"},2588:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/datadog-select-path-badfdc6c3a503259682527f0cfb49428.png"},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var o=n(96540);const s={},i=o.createContext(s);function a(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(i.Provider,{value:t},e.children)}},31064:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/datadog-change-columns-1fe4cd09bf29c8a33ec90c9cbbf9c747.png"},51616:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/datadog-time-select-c9781acdb6997addb5e9116c5fd6526b.png"},65465:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/datadog-facet-menu-db211d67ae2d3652f2ab799a02add125.png"},86010:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"Engineering/BackEnd/Monitoring/Logs","title":"Logs","description":"This section goes over the process of how to access, search, and parse logs on Datadog","source":"@site/docs/Engineering/BackEnd/Monitoring/Logs.md","sourceDirName":"Engineering/BackEnd/Monitoring","slug":"/Engineering/BackEnd/Monitoring/Logs","permalink":"/va-mobile-app/docs/Engineering/BackEnd/Monitoring/Logs","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Logs"},"sidebar":"tutorialSidebar","previous":{"title":"Datadog","permalink":"/va-mobile-app/docs/Engineering/BackEnd/Monitoring/DataDog"},"next":{"title":"On-Call Procedure","permalink":"/va-mobile-app/docs/Engineering/BackEnd/Monitoring/OnCallProcedure"}}');var s=n(74848),i=n(28453);const a={title:"Logs"},r=void 0,c={},l=[{value:"How to Access and Search Logs",id:"how-to-access-and-search-logs",level:2},{value:"Example",id:"example",level:2},{value:"Worker Logs",id:"worker-logs",level:3},{value:"Further reading",id:"further-reading",level:2}];function d(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"This section goes over the process of how to access, search, and parse logs on Datadog"}),"\n",(0,s.jsx)(t.h2,{id:"how-to-access-and-search-logs",children:"How to Access and Search Logs"}),"\n",(0,s.jsxs)(t.p,{children:["Locate the ",(0,s.jsx)(t.a,{href:"https://vagov.ddog-gov.com/logs?query=&cols=host%2Cservice&index=%2A&messageDisplay=inline&stream_sort=desc&viz=stream&from_ts=1684258977199&to_ts=1684259877199&live=true",children:"Logs section"})," in the menu on the left, and select search. From this screen, you should be able to find all logs that you may need.\n",(0,s.jsx)(t.img,{alt:"Expanded Logs sidebar menu item in Datadog",src:n(439).A+"",width:"2990",height:"1680"})]}),"\n",(0,s.jsx)(t.p,{children:"A few things to keep note of:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["At the top, DataDog defaults to searching for logs in the past 15 minutes. This may not be a wide enough window for you to find what you want ",(0,s.jsx)(t.img,{alt:"Datadog search box",src:n(51616).A+"",width:"2988",height:"1552"})]}),"\n",(0,s.jsxs)(t.li,{children:['The "Search for" section does not allow you to search something as simple as ',(0,s.jsx)(t.code,{children:"mobile"})," to find all mobile endpoints. It is best to select the ",(0,s.jsx)(t.code,{children:"facets"})," you'd like from the menu on the left ",(0,s.jsx)(t.img,{alt:"Facet selection panel in Datadog",src:n(65465).A+"",width:"2982",height:"1560"})]}),"\n",(0,s.jsxs)(t.li,{children:["When selecting options from the fields on the left, clicking the check box ",(0,s.jsx)(t.em,{children:"unchecks"})," that options, clicking the text of the option itself ",(0,s.jsx)(t.em,{children:"only"})," selects that option"]}),"\n",(0,s.jsxs)(t.li,{children:["You can customize the table columns for the results. Clicking the dropdown arrow next to a column header will show options to replace the column, or insert one to the left or right. Depending on the type of search, it may be helpful to add a column that for ",(0,s.jsx)(t.code,{children:"@http.url_details.path"})," ",(0,s.jsx)(t.img,{alt:"Sorting columns option in Datadog",src:n(31064).A+"",width:"2988",height:"1538"})]}),"\n",(0,s.jsxs)(t.li,{children:["You will most likely want to select ",(0,s.jsx)(t.code,{children:"vets-api"})," under the source option"]}),"\n",(0,s.jsx)(t.li,{children:"The options on the left are populated by options DataDog found in the current timeframe. So, if you're looking for logs on an endpoint that is not used often, you may not find it in the options on the left until you change the time frame you're searching for in the top right corner"}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,s.jsxs)(t.p,{children:["Let's say we wanted to check for any errors in the past week for the endpoint ",(0,s.jsx)(t.code,{children:"/mobile/v1/user"})]}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"In the time select at the top right, change 15 Minutes to Past 7 days"}),"\n",(0,s.jsxs)(t.li,{children:["In the ",(0,s.jsx)(t.code,{children:"URL Path"})," section, search for ",(0,s.jsx)(t.code,{children:"/mobile/v1/user"})," and click on the word itself so that all other options are unchecked ",(0,s.jsx)(t.img,{alt:"Example user endpoint log in Datadog",src:n(2588).A+"",width:"2982",height:"1526"})]}),"\n",(0,s.jsx)(t.li,{children:"Click on any specific logs you want to view"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"There are a lot of options for visualizations that you can play around with that may be helpful to your unique searching."}),"\n",(0,s.jsx)(t.h3,{id:"worker-logs",children:"Worker Logs"}),"\n",(0,s.jsxs)(t.p,{children:["If you wanted to search for worker logs, you can paste the following in the ",(0,s.jsx)(t.code,{children:"Search for"})," field:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ruby",children:"@application:vets-api-worker @named_tags.class:*ClassNameOfLogger* @message_content:Mobile*\n"})}),"\n",(0,s.jsx)(t.h2,{id:"further-reading",children:"Further reading"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/department-of-veterans-affairs/leeroy-jenkles/wiki/API-Backend-Systems#api-to-va-backend-mapping",children:"Lighthouse Upstream Dependencies"})}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);