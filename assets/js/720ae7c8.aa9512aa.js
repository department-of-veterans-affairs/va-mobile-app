"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[6784],{28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>s});var r=i(96540);const t={},o=r.createContext(t);function c(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),r.createElement(o.Provider,{value:n},e.children)}},74057:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>u,frontMatter:()=>c,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"Engineering/BackEnd/Architecture/BackgroundWorkersAndCaching","title":"Background Workers and Caching","description":"Background Workers","source":"@site/docs/Engineering/BackEnd/Architecture/BackgroundWorkersAndCaching.md","sourceDirName":"Engineering/BackEnd/Architecture","slug":"/Engineering/BackEnd/Architecture/BackgroundWorkersAndCaching","permalink":"/va-mobile-app/docs/Engineering/BackEnd/Architecture/BackgroundWorkersAndCaching","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Background Workers and Caching"},"sidebar":"tutorialSidebar","previous":{"title":"Authentication Diagrams","permalink":"/va-mobile-app/docs/Engineering/BackEnd/Architecture/Auth Diagrams"},"next":{"title":"Continuous Integration and Deployment","permalink":"/va-mobile-app/docs/Engineering/BackEnd/Architecture/ContinuousIntegrationAndDeployment"}}');var t=i(74848),o=i(28453);const c={title:"Background Workers and Caching"},s=void 0,a={},d=[{value:"Background Workers",id:"background-workers",level:2},{value:"Caching",id:"caching",level:2}];function l(e){const n={code:"code",h2:"h2",li:"li",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"background-workers",children:"Background Workers"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Vets-api uses Sidekiq for background processing and scheduling."}),"\n",(0,t.jsx)(n.li,{children:"Mobile typically uses async jobs for caching, updating user accounts, and logging (to avoid taxing the system on a log that would otherwise be hit too often)"}),"\n",(0,t.jsxs)(n.li,{children:["Mobile has various jobs that can be found in ",(0,t.jsx)(n.code,{children:"modules/mobile/app/workers"})," directory."]}),"\n",(0,t.jsxs)(n.li,{children:["New job schedules must be initialized in ",(0,t.jsx)(n.code,{children:"lib/periodic_jobs.rb"})," (event-driven async jobs do not need to be set here)"]}),"\n",(0,t.jsx)(n.li,{children:"When scheduling a new job, try to spread out jobs to run at different times of the day but keep in mind that many upstream services go down for maintenance in the evening and on weekends."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"caching",children:"Caching"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Caching within Mobile is done on a feature by feature basis. Some services used within vets-api do the caching, and in some cases when performance is struggling, Mobile will implement our own caching."}),"\n",(0,t.jsxs)(n.li,{children:["If caching is implemented within Mobile, add a ",(0,t.jsx)(n.code,{children:"useCache"})," parameter to enable/disable caching. This is useful for debugging issues."]}),"\n",(0,t.jsx)(n.li,{children:"Cached data within Mobile typically has a Time to Live (TTL) of 30 minutes (session caches are much shorter)"}),"\n",(0,t.jsxs)(n.li,{children:["Cache TTL can be found in ",(0,t.jsx)(n.code,{children:"config/redis.yml"})]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);