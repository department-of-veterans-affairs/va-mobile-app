"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[7703],{2921:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>p,metadata:()=>o,toc:()=>u});var t=r(58168),a=(r(96540),r(15680)),i=r(41873);const p={title:"Authentication Diagrams"},s=void 0,o={unversionedId:"Engineering/BackEnd/Architecture/Auth Diagrams",id:"Engineering/BackEnd/Architecture/Auth Diagrams",title:"Authentication Diagrams",description:"",source:"@site/docs/Engineering/BackEnd/Architecture/Auth Diagrams.md",sourceDirName:"Engineering/BackEnd/Architecture",slug:"/Engineering/BackEnd/Architecture/Auth Diagrams",permalink:"/va-mobile-app/docs/Engineering/BackEnd/Architecture/Auth Diagrams",draft:!1,tags:[],version:"current",frontMatter:{title:"Authentication Diagrams"},sidebar:"tutorialSidebar",previous:{title:"API",permalink:"/va-mobile-app/docs/Engineering/BackEnd/API/"},next:{title:"Background Workers and Caching",permalink:"/va-mobile-app/docs/Engineering/BackEnd/Architecture/BackgroundWorkersAndCaching"}},c={},u=[],d={toc:u},A="wrapper";function h(e){let{components:n,...r}=e;return(0,a.yg)(A,(0,t.A)({},d,r,{components:n,mdxType:"MDXLayout"}),(0,a.yg)(i.K,{chart:"sequenceDiagram\n    title: Username and Password Authorization Flow\n    participant User\n    participant App\n    participant Server\n    User->>App: Enter username and password\n    App->>Server: Send username and password\n    Server--\x3e>App: Send auth result\n    App--\x3e>User: Display auth result",mdxType:"Mermaid"}),(0,a.yg)(i.K,{chart:"sequenceDiagram\n    title: Biometrics Flow for Username and Password Initial Login\n    participant User\n    participant Keychain\n    participant App\n    participant Server\n    User->>App: Enter username and password\n    App--\x3e>User: Do you want to login with biometrics next time?\n    User->>App: Yes!\n    App->>Keychain: Here is the username and pw for this app, keep it safe, please\n    App->>Server: Send username and password\n    Server--\x3e>App: Send auth result\n    App--\x3e>User: Display auth result",mdxType:"Mermaid"}),(0,a.yg)(i.K,{chart:"sequenceDiagram\n    title: Biometrics Flow for Username and Password Subsequent Login\n    participant User\n    participant Keychain\n    participant App\n    participant Server\n    App->>Keychain: Is there a username and pw saved for this app?\n    Keychain--\x3e>App: Yes there is!\n    App->>User: Can I please have your biometrics?\n    User--\x3e>App: Here you go!\n    App->>Keychain: Here are the biometrics, can you send the username/pw to me?\n    Keychain--\x3e>App: Here are the username and pw.\n    App->>Server: Send username and password\n    Server--\x3e>App: Send auth result\n    App--\x3e>User: Display auth result",mdxType:"Mermaid"}),(0,a.yg)(i.K,{chart:"sequenceDiagram\n    title: VA: Health and Benefits Biometrics Initial Login\n    participant User\n    participant Secure App Storage\n    participant App\n    participant IAM\n    participant Identity Provider\n    User->>App: Tap Login button\n    App->>IAM: Start the sign in process\n    IAM->>User: Which Identity Provider do you want?\n    User--\x3e>IAM: This one please.\n    IAM--\x3e>Identity Provider: Please authenticate this person at IAL2/AAL2/LOA3\n    Identity Provider->>User: Please send your username and password\n    User--\x3e>Identity Provider: Here they are\n    Identity Provider--\x3e>IAM: It's them, I'm sure of it\n    IAM--\x3e>App: Here is a code to get your tokens\n    App->>IAM: Please create a token and session for me\n    IAM--\x3e>App: Done and done! Here is the token\n    App->>User: Do you want to use biometrics to log in?\n    User--\x3e>App: Yes please!\n    App->>Secure App Storage: Please hang on to this for us and lock it with biometrics\n    Secure App Storage--\x3e>App: You got it!\n    App--\x3e>User: Display Auth Result",mdxType:"Mermaid"}),(0,a.yg)(i.K,{chart:"sequenceDiagram\n    title: VA: Health and Benefits Biometrics Subsequent Login\n    participant User\n    participant Secure App Storage\n    participant App\n    participant IAM\n    App->>Secure App Storage: Is there a stored token?\n    Secure App Storage--\x3e>App: Yes there is\n    App->>User: Can I please have your biometrics?\n    User--\x3e>App: Here you go!\n    App->>Secure App Storage: Here are the biometrics, can you send the token to me?\n    Secure App Storage--\x3e>App: Here it is!\n    App->>IAM: Can I get a refreshed token, please? Here is the old one.\n    IAM--\x3e>App: Here you go, one new token.\n    App--\x3e>User: Display Auth Result",mdxType:"Mermaid"}))}h.isMDXComponent=!0}}]);