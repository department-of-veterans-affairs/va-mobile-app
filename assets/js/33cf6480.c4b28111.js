"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[2192],{3299:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/MobilePush-848d37d3292b0f99f999e8a89b813240.jpg"},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var i=n(96540);const o={},a=i.createContext(o);function s(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(a.Provider,{value:t},e.children)}},65724:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"Engineering/BackEnd/Features/PushNotifications","title":"Push Notifications","description":"Architectural Overview","source":"@site/docs/Engineering/BackEnd/Features/PushNotifications.md","sourceDirName":"Engineering/BackEnd/Features","slug":"/Engineering/BackEnd/Features/PushNotifications","permalink":"/va-mobile-app/docs/Engineering/BackEnd/Features/PushNotifications","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Push Notifications"},"sidebar":"tutorialSidebar","previous":{"title":"Maintenance Windows","permalink":"/va-mobile-app/docs/Engineering/BackEnd/Features/MaintenanceWindows"},"next":{"title":"Schema Contract Testing","permalink":"/va-mobile-app/docs/Engineering/BackEnd/Features/SchemaContractTesting"}}');var o=n(74848),a=n(28453);const s={title:"Push Notifications"},r=void 0,c={},l=[{value:"Architectural Overview",id:"architectural-overview",level:2},{value:"Getting Your Push In The App",id:"getting-your-push-in-the-app",level:2},{value:"Example push template content",id:"example-push-template-content",level:3}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h2,{id:"architectural-overview",children:"Architectural Overview"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"FLow diagram for how push notification get to the app from the Vetext service",src:n(3299).A+"",width:"1280",height:"666"})}),"\n",(0,o.jsx)(t.h2,{id:"getting-your-push-in-the-app",children:"Getting Your Push In The App"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["Contact VANotify and VEText to get onboarded to their API and get a push template created. Reach out in slack: ",(0,o.jsx)(t.a,{href:"https://dsva.slack.com/archives/C01CSM3EZGT",children:"#va-notify-public"})," or by emailing ",(0,o.jsx)(t.a,{href:"mailto:oitoctovanotify@va.gov",children:"oitoctovanotify@va.gov"})]}),"\n",(0,o.jsx)(t.li,{children:"Get your push template content approved by the mobile team"}),"\n"]}),"\n",(0,o.jsx)(t.h3,{id:"example-push-template-content",children:"Example push template content"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-js",children:'{\n  "default": "Appointment Reminder Default",\n  "APNS": {"aps":{"alert": {"title":"VA Appointment Reminder","body":"You have an upcoming VA appointment."}},  "appt":"%APPOINTMENT%"},\n    "APNS_SANDBOX": {"aps":{"alert": {"title":"VA Appointment Reminder","body":"You have an upcoming VA appointment."}},"appt":"%APPOINTMENT%"},\n  "GCM": {"notification": {"title": "VA Appointment Reminder","body":"You have an upcoming VA appointment."},"data": {"appt": "%APPOINTMENT%"}}\n}\n'})}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsx)(t.p,{children:'The "data" field should include any variable data for the alert title or body, and the necessary metadata from the app to deeplink to the correct location.'})}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["Connect your system to VANotify API to trigger push and test pre-app triggering in staging. ",(0,o.jsx)(t.a,{href:"https://notifications.va.gov/",children:"General VANotify Docs"})]}),"\n",(0,o.jsxs)(t.li,{children:["Get access to testflight app from mobile team to test notifications and notification preferences in staging. ",(0,o.jsx)(t.a,{href:"/va-mobile-app/docs/QA/QualityAssuranceProcess/Resources#testflight--apptester",children:"Testflight & App Tester"})]}),"\n",(0,o.jsx)(t.li,{children:"Do a Prod test if possible"}),"\n",(0,o.jsx)(t.li,{children:"Mobile will update store info to acknowledge new notifications if necessary"}),"\n",(0,o.jsx)(t.li,{children:"Go live"}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}}}]);