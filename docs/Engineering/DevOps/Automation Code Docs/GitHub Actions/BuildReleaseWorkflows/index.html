<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Engineering/DevOps/Automation Code Docs/GitHub Actions/BuildReleaseWorkflows">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Build and Release Workflows | VA: Health and Benefits app documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://department-of-veterans-affairs.github.io/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/GitHub Actions/BuildReleaseWorkflows"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Build and Release Workflows | VA: Health and Benefits app documentation"><meta data-rh="true" name="description" content="This section contains all of the workflows that are related to our packaging our apps and automating our Release Process. Use the sidebar to the right to jump directly to workflows."><meta data-rh="true" property="og:description" content="This section contains all of the workflows that are related to our packaging our apps and automating our Release Process. Use the sidebar to the right to jump directly to workflows."><link data-rh="true" rel="icon" href="/va-mobile-app/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://department-of-veterans-affairs.github.io/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/GitHub Actions/BuildReleaseWorkflows"><link data-rh="true" rel="alternate" href="https://department-of-veterans-affairs.github.io/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/GitHub Actions/BuildReleaseWorkflows" hreflang="en"><link data-rh="true" rel="alternate" href="https://department-of-veterans-affairs.github.io/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/GitHub Actions/BuildReleaseWorkflows" hreflang="x-default"><link rel="stylesheet" href="/va-mobile-app/assets/css/styles.9b5c2e7f.css">
<link rel="preload" href="/va-mobile-app/assets/js/runtime~main.e5ce7e7f.js" as="script">
<link rel="preload" href="/va-mobile-app/assets/js/main.2dc5c958.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/va-mobile-app/"><div class="navbar__logo"><img src="/va-mobile-app/img/va-logo.png" alt="VA Mobile logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/va-mobile-app/img/va-logo.png" alt="VA Mobile logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">VA Mobile Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/va-mobile-app/docs/Intro">Documentation</a><a class="navbar__item navbar__link" href="/va-mobile-app/design/Intro">Design System</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/department-of-veterans-affairs/va-mobile-app" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/va-mobile-app/docs/intro">Intro to the VA Mobile App</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/va-mobile-app/docs/Contributing/">Contributing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Contributing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/va-mobile-app/docs/Flagship design library/Content/content-style-guide">Flagship design library</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/va-mobile-app/docs/Product/">Product</a><button aria-label="Toggle the collapsible sidebar category &#x27;Product&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/va-mobile-app/docs/Engineering/">Engineering</a><button aria-label="Toggle the collapsible sidebar category &#x27;Engineering&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/va-mobile-app/docs/Engineering/BackEnd/">Back End</a><button aria-label="Toggle the collapsible sidebar category &#x27;Back End&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/va-mobile-app/docs/Engineering/FrontEnd/">Front End</a><button aria-label="Toggle the collapsible sidebar category &#x27;Front End&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/GitHub Actions/Overview">DevOps</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/GitHub Actions/Overview">Automation Code Docs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/GitHub Actions/Overview">GitHub Actions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/GitHub Actions/Overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/GitHub Actions/BuildReleaseWorkflows">Build and Release Workflows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/GitHub Actions/CodeQualityWorkflows">Code Quality Workflows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/GitHub Actions/OtherWorkflows">Other Workflows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/GitHub Actions/ReleaseIssues">Release Issues</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/Scripts">Scripts, Etc.</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/Signing Keys/">Signing Keys</a><button aria-label="Toggle the collapsible sidebar category &#x27;Signing Keys&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/va-mobile-app/docs/Engineering/DevOps/Making pull requests">Making pull requests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/va-mobile-app/docs/Engineering/DevOps/Overview">Build automation overview</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/va-mobile-app/docs/UX/">UX</a><button aria-label="Toggle the collapsible sidebar category &#x27;UX&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/va-mobile-app/docs/QA/">QA</a><button aria-label="Toggle the collapsible sidebar category &#x27;QA&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/va-mobile-app/docs/Operations/">Operations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Operations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/va-mobile-app/docs/About our team/">About our team</a><button aria-label="Toggle the collapsible sidebar category &#x27;About our team&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/va-mobile-app/docs/App Features/Availability Framework/">App Features</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/va-mobile-app/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/va-mobile-app/docs/Engineering/"><span itemprop="name">Engineering</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">DevOps</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Automation Code Docs</span><meta itemprop="position" content="3"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">GitHub Actions</span><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Build and Release Workflows</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Build and Release Workflows</h1><p>This section contains all of the workflows that are related to our packaging our apps and automating our <a href="/va-mobile-app/docs/Operations/Releases/release-process">Release Process</a>. Use the sidebar to the right to jump directly to workflows.  </p><p>Each workflows has descriptions, triggers, and input/output parameters if applicable. See the <a href="https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows" target="_blank" rel="noopener noreferrer">GitHub Actions Documentation</a> for more details about <a href="https://docs.github.com/en/actions/using-workflows/triggering-a-workflow" target="_blank" rel="noopener noreferrer">triggers</a> and <a href="https://docs.github.com/en/actions/using-workflows/triggering-a-workflow#defining-inputs-outputs-and-secrets-for-reusable-workflows" target="_blank" rel="noopener noreferrer">input/output parameters</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="build-automation-capabilities">Build Automation Capabilities<a href="#build-automation-capabilities" class="hash-link" aria-label="Direct link to Build Automation Capabilities" title="Direct link to Build Automation Capabilities">​</a></h2><p>The build system currently allows us to build in multiple ways and for multiple configurations.</p><ul><li>Staging API or Production API</li><li>Special Release Candidate configuration</li><li>Options to upload to a specific lane or Test Flight group</li><li>Configurations to create one-off builds for feature branch testing prior to merging</li><li>Queueing capabilities to avoid build collisions on build numbers</li><li>Dependency installation and caching to speed up delivery</li><li>Slack integration to send useful messages to our DSVA Slack channels to raise errors and to indicate success</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="build-workflows">Build Workflows<a href="#build-workflows" class="hash-link" aria-label="Direct link to Build Workflows" title="Direct link to Build Workflows">​</a></h2><ul><li><a href="#daily-qa-build-qa_build">Daily QA builds</a></li><li><a href="#release-candidate-build-release_candidate_build">Release Candidate (RC) builds</a></li><li><a href="#on-demand-build-on_demand_build">On Demand builds</a></li><li><a href="#release-build-release_build">Release builds and submission to App/Play Stores for approval</a></li><li><a href="#go-live-go_live">Scheduled &quot;Go Live&quot; every other Tuesday</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reusable-build-workflows">Reusable Build Workflows<a href="#reusable-build-workflows" class="hash-link" aria-label="Direct link to Reusable Build Workflows" title="Direct link to Reusable Build Workflows">​</a></h2><p>All of our build related workflows use one of following two workflows with different parameters passed in, making them the two most important workflows of our build automation.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reusable-ios-workflow-build_ios">Reusable iOS Workflow (<code>build_ios</code>)<a href="#reusable-ios-workflow-build_ios" class="hash-link" aria-label="Direct link to reusable-ios-workflow-build_ios" title="Direct link to reusable-ios-workflow-build_ios">​</a></h3><p><a href="https://github.com/department-of-veterans-affairs/va-mobile-app/actions/workflows/build_ios.yml" target="_blank" rel="noopener noreferrer">View on GitHub Actions</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description">Description<a href="#description" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h4><p>Creates an iOS build using the passed parameters and distributes to TestFlight / App Connect. Starts a Slack thread in the channel and updates the thread with the results of each build job.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="trigger">Trigger<a href="#trigger" class="hash-link" aria-label="Direct link to Trigger" title="Direct link to Trigger">​</a></h4><p>Can only be triggered by other workflows.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  workflow_call</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters">Parameters<a href="#parameters" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="inputs">Inputs<a href="#inputs" class="hash-link" aria-label="Direct link to Inputs" title="Direct link to Inputs">​</a></h5><table><thead><tr><th>Parameter</th><th>Description</th><th>Type</th><th>Options</th><th>Default</th></tr></thead><tbody><tr><td>environment</td><td>Used to determine the environment variables to build the app with</td><td>string</td><td>test, staging, production</td><td>staging</td></tr><tr><td>lane</td><td>Specifies which fastlane lane to run</td><td>string</td><td>qa, rc, review, release, on_demand</td><td>qa</td></tr><tr><td>notes</td><td>Release notes that will show next to the version in TestFlight. Fastlane will default to &quot;New QA version for {{DATE_TIME}}&quot; if nothing is passed</td><td>string</td><td></td><td></td></tr><tr><td>ref</td><td>Branch or tag that we want to build from.  Defaults to the branch/tag that triggered</td><td>string</td><td></td><td></td></tr><tr><td>slack_thread_ts</td><td>Timestamp of the Slack thread where build related messages should be sent. Gets assigned to the SLACK_THREAD_TS environment variable that Fastlane uses.</td><td>string</td><td></td><td></td></tr><tr><td>tf_group</td><td>TestFlight group to distribute to. Fastlane defaults to &quot;Development Team&quot; if nothing is passed</td><td>string</td><td></td><td></td></tr><tr><td>version</td><td>Version number to use for production release. Passing &quot;qa&quot; here will auto increment upon the latest version in the app stores</td><td>string</td><td></td><td>qa</td></tr></tbody></table><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reusable-android-workflow-build_android">Reusable Android Workflow (<code>build_android</code>)<a href="#reusable-android-workflow-build_android" class="hash-link" aria-label="Direct link to reusable-android-workflow-build_android" title="Direct link to reusable-android-workflow-build_android">​</a></h3><p><a href="https://github.com/department-of-veterans-affairs/va-mobile-app/actions/workflows/build_android.yml" target="_blank" rel="noopener noreferrer">View on GitHub Actions</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-1">Description<a href="#description-1" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h4><p>Creates an iOS build using the passed parameters and distributes to TestFlight / App Connect. Starts a Slack thread in the channel and updates the thread with the results of each build job.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="trigger-1">Trigger<a href="#trigger-1" class="hash-link" aria-label="Direct link to Trigger" title="Direct link to Trigger">​</a></h4><p>Can only be triggered by other workflows.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  workflow_call</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-1">Parameters<a href="#parameters-1" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="inputs-1">Inputs<a href="#inputs-1" class="hash-link" aria-label="Direct link to Inputs" title="Direct link to Inputs">​</a></h5><table><thead><tr><th>Parameter</th><th>Description</th><th>Type</th><th>Options</th><th>Default</th></tr></thead><tbody><tr><td>environment</td><td>Used to determine the environment variables to build the app with</td><td>string</td><td>test, staging, production</td><td>staging</td></tr><tr><td>lane</td><td>Specifies which fastlane lane to run</td><td>string</td><td>qa, rc, review, release, on_demand</td><td>qa</td></tr><tr><td>notes</td><td>Release notes that will show next to the version in TestFlight. Fastlane will default to &quot;New QA version for {{DATE_TIME}}&quot; if nothing is passed</td><td>string</td><td></td><td></td></tr><tr><td>ref</td><td>Branch or tag that we want to build from.  Defaults to the branch/tag that triggered</td><td>string</td><td></td><td></td></tr><tr><td>slack_thread_ts</td><td>Timestamp of the Slack thread where build related messages should be sent. Gets assigned to the SLACK_THREAD_TS environment variable that Fastlane uses.</td><td>string</td><td></td><td></td></tr><tr><td>ps_track</td><td>Google Play Console track to distribute to. Fastlane defaults to &quot;Development Team&quot; if nothing is passed</td><td>string</td><td></td><td></td></tr><tr><td>version</td><td>Version number to use for production release. Passing &quot;qa&quot; here will auto increment upon the latest version in the app stores</td><td>string</td><td></td><td>qa</td></tr></tbody></table><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="build-workflows-1">Build Workflows<a href="#build-workflows-1" class="hash-link" aria-label="Direct link to Build Workflows" title="Direct link to Build Workflows">​</a></h2><p>These workflows utilize the reusable workflows above with specified parameters.  Some are triggered by a tag or on a schedule.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="daily-qa-build-qa_build">Daily QA Build (<code>qa_build</code>)<a href="#daily-qa-build-qa_build" class="hash-link" aria-label="Direct link to daily-qa-build-qa_build" title="Direct link to daily-qa-build-qa_build">​</a></h3><p><a href="https://github.com/department-of-veterans-affairs/va-mobile-app/actions/workflows/qa_build.yml" target="_blank" rel="noopener noreferrer">View on GitHub Actions</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-2">Description<a href="#description-2" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h4><p>This workflow runs every night to create and upload the QA version of the app configured for the staging environment for both Android and iOS.  It uses the <a href="#build_ios"><code>build_ios</code></a> and <a href="#build_android"><code>build_android</code></a> workflows with their default parameters.</p><p>Creates a Slack thread in the channel and updates the thread with the results of each build job.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="triggers">Triggers<a href="#triggers" class="hash-link" aria-label="Direct link to Triggers" title="Direct link to Triggers">​</a></h4><p>Runs every Weekday at 0400 UTC from the develop branch</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">schedule</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">cron</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;0 4 * * 1,2,3,4,5&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="on-demand-build-on_demand_build">On Demand Build (<code>on_demand_build</code>)<a href="#on-demand-build-on_demand_build" class="hash-link" aria-label="Direct link to on-demand-build-on_demand_build" title="Direct link to on-demand-build-on_demand_build">​</a></h3><p><a href="https://github.com/department-of-veterans-affairs/va-mobile-app/actions/workflows/on_demand_build.yml" target="_blank" rel="noopener noreferrer">View on GitHub Actions</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-3">Description<a href="#description-3" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h4><p>Builds versions for both Android and iOS using the specified environment and branch and iOS and makes them available via TestFlight and Firebase App Distribution.</p><p>Creates a Slack thread in the channel and updates the thread with the results of each build job.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="triggers-1">Triggers<a href="#triggers-1" class="hash-link" aria-label="Direct link to Triggers" title="Direct link to Triggers">​</a></h4><p>Manually via the <a href="https://github.com/department-of-veterans-affairs/va-mobile-app/actions/workflows/on_demand_build.yml" target="_blank" rel="noopener noreferrer">GitHub Actions UI</a></p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  workflow_dispatch</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-2">Parameters<a href="#parameters-2" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="inputs-2">Inputs<a href="#inputs-2" class="hash-link" aria-label="Direct link to Inputs" title="Direct link to Inputs">​</a></h5><table><thead><tr><th>Parameter</th><th>Description</th><th>Type</th><th>Options</th><th>Default</th><th>Required</th></tr></thead><tbody><tr><td>environment</td><td>Used to determine the environment variables to build the app with</td><td>string</td><td>test, staging, production</td><td>staging</td><td>Yes</td></tr><tr><td>notes</td><td>The text you want to appear in the TestFlight and Firebase App Tester description</td><td>string</td><td></td><td></td><td>Yes</td></tr></tbody></table><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-candidate-build-release_candidate_build">Release Candidate Build (<code>release_candidate_build</code>)<a href="#release-candidate-build-release_candidate_build" class="hash-link" aria-label="Direct link to release-candidate-build-release_candidate_build" title="Direct link to release-candidate-build-release_candidate_build">​</a></h3><p><a href="https://github.com/department-of-veterans-affairs/va-mobile-app/actions/workflows/release_candidate_build.yml" target="_blank" rel="noopener noreferrer">View on GitHub Actions</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-4">Description<a href="#description-4" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h4><p>This workflow runs every time a tag with RC-v<code>int.int.int</code> pattern is pushed to the origin. It builds release candidates pointed at staging for our QA team to test using the <a href="#build_ios"><code>build_ios</code></a> and <a href="#build_android"><code>build_android</code></a> workflows. Those jobs use the branch/tag that triggered the workflow, in this case RC-v<code>int.int.int</code>. </p><p>Creates a Slack thread in the channel and updates the thread with the results of each build job.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="triggers-2">Triggers<a href="#triggers-2" class="hash-link" aria-label="Direct link to Triggers" title="Direct link to Triggers">​</a></h4><p>Tags matching the regular expression <code>/^RC-v.d+.d+.d+$/</code>. Our <a href="/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/Scripts#release_branchsh"><code>release_branch.sh</code></a> script creates this tag at the end of every sprint.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">push</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">tags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;v[0-9]+.[0-9]+.[0-9]+&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-build-release_build">Release Build (<code>release_build</code>)<a href="#release-build-release_build" class="hash-link" aria-label="Direct link to release-build-release_build" title="Direct link to release-build-release_build">​</a></h3><p><a href="https://github.com/department-of-veterans-affairs/va-mobile-app/actions/workflows/release_build.yml" target="_blank" rel="noopener noreferrer">View on GitHub Actions</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-5">Description<a href="#description-5" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h4><p>This workflow runs every time a tag with v<code>int.int.int</code> pattern is pushed to the origin. It builds production versions for both Android and iOS and submits them to the app stores for review.</p><p>Creates a Slack thread in the channel and updates the thread with the results of each build job.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="triggers-3">Triggers<a href="#triggers-3" class="hash-link" aria-label="Direct link to Triggers" title="Direct link to Triggers">​</a></h4><p>Tags matching the regular expression <code>/^vd+.d+.d+/</code>. Our <a href="/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/Scripts#release_branchsh"><code>release_branch.sh</code></a> script creates this tag at the end of every sprint.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">push</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">tags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;v[0-9]+.[0-9]+.[0-9]+&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="go-live-go_live">Go Live (<code>go_live</code>)<a href="#go-live-go_live" class="hash-link" aria-label="Direct link to go-live-go_live" title="Direct link to go-live-go_live">​</a></h3><p><a href="https://github.com/department-of-veterans-affairs/va-mobile-app/actions/workflows/go_live.yml" target="_blank" rel="noopener noreferrer">View on GitHub Actions</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-6">Description<a href="#description-6" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h4><p>Job runs on release day to send approved versions to the stores</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="triggers-4">Triggers<a href="#triggers-4" class="hash-link" aria-label="Direct link to Triggers" title="Direct link to Triggers">​</a></h4><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">cron</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;0 14 * * 2&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Runs every Tuesday at 1400 UTC on only the main branch</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="release-workflows">Release Workflows<a href="#release-workflows" class="hash-link" aria-label="Direct link to Release Workflows" title="Direct link to Release Workflows">​</a></h2><p>These workflows are related to are release process which occurs every 2 weeks.  Check the <a href="/va-mobile-app/docs/Operations/Releases/release-process">Release Process</a> for a high-level overview.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-release-branch-new_release_branch">New Release Branch (<code>new_release_branch</code>)<a href="#new-release-branch-new_release_branch" class="hash-link" aria-label="Direct link to new-release-branch-new_release_branch" title="Direct link to new-release-branch-new_release_branch">​</a></h3><p><a href="https://github.com/department-of-veterans-affairs/va-mobile-app/actions/workflows/new_release_branch.yml" target="_blank" rel="noopener noreferrer">View on GitHub Actions</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-7">Description<a href="#description-7" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h4><p>Runs our <a href="/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/Scripts#release_branchsh"><code>release_branch.sh</code></a> script, which checks to see if we are at the beginning of a new sprint, and if so, cuts a new release/v<code>int.int.int</code> branch from the <code>develop</code> branch and tags it with RC-v<code>int.int.int</code>. The command in the script also ends up triggering the <a href="#release_branch_issue"><code>release_branch_issue</code></a> and <a href="#release_candidate_build"><code>release_candidate_build</code></a> workflows by tagging the branch with RC-v<code>int.int.int</code> and c.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="trigger-2">Trigger<a href="#trigger-2" class="hash-link" aria-label="Direct link to Trigger" title="Direct link to Trigger">​</a></h4><p>Every Wednesday at 06:00 UTC, 2:00AM ET, 11:00PM (Tues) PT or manually via GitHub Actions UI.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">workflow_dispatch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">schedule</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">cron</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;00 6 * * 3&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-release-issue-release_branch_issue">New Release Issue (<code>release_branch_issue</code>)<a href="#new-release-issue-release_branch_issue" class="hash-link" aria-label="Direct link to new-release-issue-release_branch_issue" title="Direct link to new-release-issue-release_branch_issue">​</a></h3><p><a href="https://github.com/department-of-veterans-affairs/va-mobile-app/actions/workflows/new_release_branch.yml" target="_blank" rel="noopener noreferrer">View on GitHub Actions</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-8">Description<a href="#description-8" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h4><p>This automated workflow creates the release ticket for every release. </p><p>This ticket runs any time a release branch is created that matches our strategy of <code>release/^v[0-9]+\.[0-9]+\.[0-9]+$</code> and does the following:</p><ul><li>Scrapes the version from the GitHub reference</li><li>Calculates the QA, Product, and VA Due Dates for the ticket</li><li>Calculates the Release Date for the specified version</li><li>Creates a table of all the Sev-1 and Sev-2 bugs that are open in the repository</li><li>Creates an issue from the <code>release_ticket</code> GitHub Issue Template</li><li>Creates a TestRail Run and Milestone for QA regression testing and tracking</li><li>Adds the TestRail run graph to the ticket after the run has been created</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="trigger-3">Trigger<a href="#trigger-3" class="hash-link" aria-label="Direct link to Trigger" title="Direct link to Trigger">​</a></h4><p>Runs on every branch create and creates a new ticket only if the branch name matches <code>release/^v[0-9]+\.[0-9]+\.[0-9]+$</code></p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  create</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="stepssource">Steps/Source<a href="#stepssource" class="hash-link" aria-label="Direct link to Steps/Source" title="Direct link to Steps/Source">​</a></h4><p><a href="https://github.com/department-of-veterans-affairs/va-mobile-app/blob/develop/.github/workflows/release_branch_issue.yml" target="_blank" rel="noopener noreferrer">See in repository</a></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="approve-slash-command-approve_command">Approve Slash Command (<code>approve_command</code>)<a href="#approve-slash-command-approve_command" class="hash-link" aria-label="Direct link to approve-slash-command-approve_command" title="Direct link to approve-slash-command-approve_command">​</a></h3><p><a href="https://github.com/department-of-veterans-affairs/va-mobile-app/actions/workflows/approve_command.yml" target="_blank" rel="noopener noreferrer">View on GitHub Actions</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-9">Description<a href="#description-9" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h4><p>Workflow for the <code>/approve</code> command in GitHub Issues. Workflow is made available in Issues by the <a href="#slash_commands"><code>slash_commands</code></a> workflow.</p><p>The current version of the workflow looks for a comment in issues that starts with <code>/approve</code>. The command should be immediately followed by a version string that matches the version regex <code>/^vd+.d+.d+$/</code> </p><p>The current logic on this trigger is pretty brittle and if the admin doesn&#x27;t do it correctly it can have some incorrect effects that need to get fixed with a new comment that is formatted correctly. There is likely some work to make this better, but there is some time needed to sort out the logic and have the command send the correct message back to the issue and to tag whoever initiated the command.</p><p>This command calls the <code>release_pull_request</code> workflow during execution.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="trigger-4">Trigger<a href="#trigger-4" class="hash-link" aria-label="Direct link to Trigger" title="Direct link to Trigger">​</a></h4><p>Workflow is triggered when a user types <code>/approve</code> into a GitHub Issue and clicks the comment button. See <a href="#slash_commands"><code>slash_commands</code></a> for more info.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">repository_dispatch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">types</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> approve</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">command </span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="stepssource-1">Steps/Source<a href="#stepssource-1" class="hash-link" aria-label="Direct link to Steps/Source" title="Direct link to Steps/Source">​</a></h4><p><a href="https://github.com/department-of-veterans-affairs/va-mobile-app/blob/develop/.github/workflows/approve_command.yml" target="_blank" rel="noopener noreferrer">See in repository</a></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="merge-to-main-and-create-pr-to-develop-release_pull_request">Merge to main and Create PR to develop (<code>release_pull_request</code>)<a href="#merge-to-main-and-create-pr-to-develop-release_pull_request" class="hash-link" aria-label="Direct link to merge-to-main-and-create-pr-to-develop-release_pull_request" title="Direct link to merge-to-main-and-create-pr-to-develop-release_pull_request">​</a></h3><p><a href="https://github.com/department-of-veterans-affairs/va-mobile-app/actions/workflows/release_pull_request.yml" target="_blank" rel="noopener noreferrer">View on GitHub Actions</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-10">Description<a href="#description-10" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h4><p>This Workflow runs when called by another workflow and merges the release branch changes to <code>main</code> and then creates a PR for any branch updates to be pulled back into <code>develop</code></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="trigger-5">Trigger<a href="#trigger-5" class="hash-link" aria-label="Direct link to Trigger" title="Direct link to Trigger">​</a></h4><p>Runs when called by another Workflow</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  workflow_call</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-3">Parameters<a href="#parameters-3" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="inputs-3">Inputs<a href="#inputs-3" class="hash-link" aria-label="Direct link to Inputs" title="Direct link to Inputs">​</a></h5><table><thead><tr><th>Name</th><th>Description</th><th>type</th><th>required?</th></tr></thead><tbody><tr><td>version</td><td>Version Number (eg. v1.1.0)</td><td>string</td><td>yes</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_LWe7" id="secrets">Secrets<a href="#secrets" class="hash-link" aria-label="Direct link to Secrets" title="Direct link to Secrets">​</a></h5><table><thead><tr><th>Name</th><th>Description</th><th>type</th><th>required?</th></tr></thead><tbody><tr><td>GH_ACTIONS_PAT</td><td>PAT token from composite parent workflow. Should be PAT from our automation robot</td><td>string</td><td>yes</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_LWe7" id="outputs">Outputs<a href="#outputs" class="hash-link" aria-label="Direct link to Outputs" title="Direct link to Outputs">​</a></h5><table><thead><tr><th>Name</th><th>Description</th><th>type</th></tr></thead><tbody><tr><td>devPrUrl</td><td>URL string that points to the new PR to <code>develop</code> for any release branch specific changes</td><td>string</td></tr><tr><td>releaseHash</td><td>String value of the commit hash on <code>main</code> that can point to the release changes as a single commit in GitHub</td><td>string</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="stepssource-2">Steps/Source<a href="#stepssource-2" class="hash-link" aria-label="Direct link to Steps/Source" title="Direct link to Steps/Source">​</a></h4><p><a href="https://github.com/department-of-veterans-affairs/va-mobile-app/blob/develop/.github/workflows/release_pull_request.yml" target="_blank" rel="noopener noreferrer">See in repository</a></p><hr></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/GitHub Actions/Overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/va-mobile-app/docs/Engineering/DevOps/Automation Code Docs/GitHub Actions/CodeQualityWorkflows"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Code Quality Workflows</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#build-automation-capabilities" class="table-of-contents__link toc-highlight">Build Automation Capabilities</a></li><li><a href="#build-workflows" class="table-of-contents__link toc-highlight">Build Workflows</a></li><li><a href="#reusable-build-workflows" class="table-of-contents__link toc-highlight">Reusable Build Workflows</a><ul><li><a href="#reusable-ios-workflow-build_ios" class="table-of-contents__link toc-highlight">Reusable iOS Workflow (<code>build_ios</code>)</a></li><li><a href="#reusable-android-workflow-build_android" class="table-of-contents__link toc-highlight">Reusable Android Workflow (<code>build_android</code>)</a></li></ul></li><li><a href="#build-workflows-1" class="table-of-contents__link toc-highlight">Build Workflows</a><ul><li><a href="#daily-qa-build-qa_build" class="table-of-contents__link toc-highlight">Daily QA Build (<code>qa_build</code>)</a></li><li><a href="#on-demand-build-on_demand_build" class="table-of-contents__link toc-highlight">On Demand Build (<code>on_demand_build</code>)</a></li><li><a href="#release-candidate-build-release_candidate_build" class="table-of-contents__link toc-highlight">Release Candidate Build (<code>release_candidate_build</code>)</a></li><li><a href="#release-build-release_build" class="table-of-contents__link toc-highlight">Release Build (<code>release_build</code>)</a></li><li><a href="#go-live-go_live" class="table-of-contents__link toc-highlight">Go Live (<code>go_live</code>)</a></li></ul></li><li><a href="#release-workflows" class="table-of-contents__link toc-highlight">Release Workflows</a><ul><li><a href="#new-release-branch-new_release_branch" class="table-of-contents__link toc-highlight">New Release Branch (<code>new_release_branch</code>)</a></li><li><a href="#new-release-issue-release_branch_issue" class="table-of-contents__link toc-highlight">New Release Issue (<code>release_branch_issue</code>)</a></li><li><a href="#approve-slash-command-approve_command" class="table-of-contents__link toc-highlight">Approve Slash Command (<code>approve_command</code>)</a></li><li><a href="#merge-to-main-and-create-pr-to-develop-release_pull_request" class="table-of-contents__link toc-highlight">Merge to main and Create PR to develop (<code>release_pull_request</code>)</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/va-mobile-app/docs/intro">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/va-mobile-app/design/intro">Design System</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/va-mobile-app/img/va-blue-logo.png" alt="VA, United States Department of Veteran Affairs" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/va-mobile-app/img/va-blue-logo.png" alt="VA, United States Department of Veteran Affairs" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2025 VA Mobile App, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/va-mobile-app/assets/js/runtime~main.e5ce7e7f.js"></script>
<script src="/va-mobile-app/assets/js/main.2dc5c958.js"></script>
</body>
</html>