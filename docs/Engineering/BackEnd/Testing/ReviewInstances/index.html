<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">Review Instances | VA: Health and Benefits app documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://department-of-veterans-affairs.github.io//va-mobile-app/docs/Engineering/BackEnd/Testing/ReviewInstances"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Review Instances | VA: Health and Benefits app documentation"><meta data-react-helmet="true" name="description" content="Our Github workflow creates a review instance based on your branch once a PR passes all its checks. You find the URLs for the website and API, as well as the instance name, when expanding the &#x27;Show environments&#x27;  link within the &#x27;This branch was successfully deployed&#x27; section of the PR."><meta data-react-helmet="true" property="og:description" content="Our Github workflow creates a review instance based on your branch once a PR passes all its checks. You find the URLs for the website and API, as well as the instance name, when expanding the &#x27;Show environments&#x27;  link within the &#x27;This branch was successfully deployed&#x27; section of the PR."><link data-react-helmet="true" rel="icon" href="/va-mobile-app/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://department-of-veterans-affairs.github.io//va-mobile-app/docs/Engineering/BackEnd/Testing/ReviewInstances"><link data-react-helmet="true" rel="alternate" href="https://department-of-veterans-affairs.github.io//va-mobile-app/docs/Engineering/BackEnd/Testing/ReviewInstances" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://department-of-veterans-affairs.github.io//va-mobile-app/docs/Engineering/BackEnd/Testing/ReviewInstances" hreflang="x-default"><link rel="stylesheet" href="/va-mobile-app/assets/css/styles.bcff6b04.css">
<link rel="preload" href="/va-mobile-app/assets/js/runtime~main.ebc0c5e7.js" as="script">
<link rel="preload" href="/va-mobile-app/assets/js/main.005355d4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/va-mobile-app/"><div class="navbar__logo"><img src="/va-mobile-app/img/va-logo.png" alt="VA Mobile logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/va-mobile-app/img/va-logo.png" alt="VA Mobile logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">VA Mobile Docs</b></a><a class="navbar__item navbar__link navbar__link--active" href="/va-mobile-app/docs/intro">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/department-of-veterans-affairs/va-mobile-app" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/va-mobile-app/docs/intro">Intro to the VA Health and Benefits App</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/va-mobile-app/docs/Product/">Product</a><button aria-label="Toggle the collapsible sidebar category &#x27;Product&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_TwRn" href="/va-mobile-app/docs/Engineering/">Engineering</a><button aria-label="Toggle the collapsible sidebar category &#x27;Engineering&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/va-mobile-app/docs/Engineering/Philosphy">Engineering Philosophy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/va-mobile-app/docs/Engineering/Releases">Releases</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/va-mobile-app/docs/Engineering/Architecture/Auth Diagrams">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/va-mobile-app/docs/Engineering/API/OpenAPI Docs">API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_TwRn" tabindex="0" href="/va-mobile-app/docs/Engineering/BackEnd/">Back End</a><button aria-label="Toggle the collapsible sidebar category &#x27;Back End&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/va-mobile-app/docs/Engineering/BackEnd/Architecture/BackgroundWorkers">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/va-mobile-app/docs/Engineering/BackEnd/Monitoring/DataDog">Monitoring</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" tabindex="0" href="/va-mobile-app/docs/Engineering/BackEnd/Testing/ApiTokens">Testing</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/va-mobile-app/docs/Engineering/BackEnd/Testing/ApiTokens">API Tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/va-mobile-app/docs/Engineering/BackEnd/Testing/Prerequisites">Prerequisites</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/va-mobile-app/docs/Engineering/BackEnd/Testing/ReviewInstances">Review Instances</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/va-mobile-app/docs/Engineering/BackEnd/Testing/StagingApps">Testing the Mobile App on Staging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/va-mobile-app/docs/Engineering/BackEnd/Testing/StagingInstances">Staging Instances</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/va-mobile-app/docs/Engineering/FrontEnd/">Front End</a><button aria-label="Toggle the collapsible sidebar category &#x27;Front End&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/va-mobile-app/docs/Engineering/DevOps/Overview">DevOps</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/va-mobile-app/docs/UX/">UX</a><button aria-label="Toggle the collapsible sidebar category &#x27;UX&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/va-mobile-app/docs/QA/">QA</a><button aria-label="Toggle the collapsible sidebar category &#x27;QA&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/va-mobile-app/docs/Operations/">Operations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Operations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/va-mobile-app/docs/About/inclusive-meetings">About</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Review Instances</h1></header><p>Our Github workflow creates a review instance based on your branch once a PR passes all its checks. You find the URLs for the website and API, as well as the instance name, when expanding the &#x27;Show environments&#x27;  link within the &#x27;This branch was successfully deployed&#x27; section of the PR.</p><p><img src="/va-mobile-app/assets/images/review-instance-deploy-link-6aeb26054716cbb5f15139ef77356a67.png"></p><p>With the SOCKS proxy running, access the web deployment by clicking the button labeled &#x27;View Deployment&#x27;. It will have a URL similar to:</p><p><code>http://a8710e1eb08cd469aa43874b25f86278.review.vetsgov-internal</code></p><p>The API backing it will have a URL with &#x27;-api&#x27; appended to the first part of the path, and ending in &#x27;/mobile&#x27;:</p><p><code>http://a8710e1eb08cd469aa43874b25f86278-api.review.vetsgov-internal/mobile</code></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="api-calls">API Calls<a class="hash-link" href="#api-calls" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="making-requests">Making Requests<a class="hash-link" href="#making-requests" title="Direct link to heading">â€‹</a></h3><p>As with the URLs you&#x27;ve been accessing so far, all API requests must go through the SOCKS proxy. You can configure this in your API client (Postman, Insomnia, Paw, etc). The proxy URL is <code>socks5h://127.0.0.1:2001</code>. Requests, as in staging and production, require that you include an &#x27;Authorization&#x27; header with a <a href="/va-mobile-app/docs/Engineering/BackEnd/Testing/ApiTokens#fetching-api-tokens">bearer token</a>. An example request using the SOCKS proxy to the user endpoint would look like below.</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">curl --proxy socks5h://127.0.0.1:2001 --request GET \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --url http://a8710e1eb08cd469aa43874b25f86278-api.review.vetsgov-internal/mobile/v1/user \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --header &#x27;Authorization: Bearer EESBp0xiLD6p1g86q4g1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --header &#x27;X-Key-Inflection: camel&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="console-access">Console Access<a class="hash-link" href="#console-access" title="Direct link to heading">â€‹</a></h2><p>You can SSH into the review instance and test code directly in a review instance Rails console. You retrieve the instance name via the Jenkins console output. To get to Jenkins, return to the PR on Github and click &#x27;Show environments&#x27; within the &#x27;This branch was successfully deployed&#x27; section. Click the &#x27;Deployed&#x27; link to the left of the &#x27;View deployment&#x27; button. This will open Jenkins. Next, select &#x27;Console Output&#x27; from the menu on the left.</p><p><img src="/va-mobile-app/assets/images/jenkins-console-output-95f3ca71e8904162cb2b4496fc274da8.png"></p><p>Then search for &quot;SSH at&quot;.</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">07:15:00  [0;32m  msg: Review instance available at http://9bbbb1184faf0a6cb1c551390c073923.review.vetsgov-internal/, or via SSH at ip-172-30-18-119.us-gov-west-1.compute.internal[0m</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In the example above &#x27;ip-172-30-18-119.us-gov-west-1.compute.internal&#x27; is the address for the instance. To open a Rails console SSH in and then run the console Docker command as below.</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">ssh ip-172-30-18-119.us-gov-west-1.compute.internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/vets-api; docker-compose -f docker-compose.review.yml exec vets-api bundle exec rails c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;host&quot;:&quot;0fca69c2c0fa&quot;,&quot;application&quot;:&quot;vets-api-server&quot;,&quot;environment&quot;:&quot;production&quot;,&quot;timestamp&quot;:&quot;2021-12-02T16:32:05.979827Z&quot;,&quot;level&quot;:&quot;info&quot;,&quot;level_index&quot;:2,&quot;pid&quot;:632,&quot;thread&quot;:&quot;65000&quot;,&quot;name&quot;:&quot;Rails&quot;,&quot;message&quot;:&quot;Raven 2.13.0 ready to catch errors&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2021-12-02 16:32:08.420676 W [632:65000] SemanticLogger::Appenders -- Ignoring attempt to add a second console appender: SemanticLogger::Appender::File since it would result in duplicate console output.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Loading production environment (Rails 6.1.4.1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">irb(main):001:0&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>To generate a user session, see section <a href="#User-Token">User Token</a> below then follow <a href="/va-mobile-app/docs/Engineering/BackEnd/Testing/StagingInstances#User-Sign-in">User Sign-in</a> instructions.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="user-token">User Token<a class="hash-link" href="#user-token" title="Direct link to heading">â€‹</a></h2><p>Currently, there are two authentication options, IAM and SIS. IAM authentication isn&#x27;t working for RIs or staging right now for unknown reasons that may not be fixed because IAM is being deprecated for SIS, which is why the instructions in the next section (User Sessions) don&#x27;t work right now on RIs.
We lack the ability to log in via SIS on RIs due to limitations the SIS team is working on. We expect this to be fixed at some point, but in the meantime it means we have to use staging to help us spoof the sign-in process with the instructions below:</p><ol><li>Open a browser and start the authorization process for your review instance (remember your <code>-api</code>)</li></ol><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">http://dc02d94d6648a008950cc9c84056a860-api.review.vetsgov-internal/v0/sign_in/authorize?type=idme&amp;code_challenge_method=S256&amp;acr=loa3&amp;client_id=mobile&amp;code_challenge=1BUpxy37SoIPmKw96wbd6MDcvayOYm3ptT-zbe6L_zM=</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="2"><li>Open network tab on browser Inspector then complete sign in. After sign in, you will be redirected to staging and there will be a failed callback request in the Inspector network tab.</li><li>With your network tab still open, replace <code>https://staging-api.va.gov</code> in your browswer url bar with your review instance (remember your <code>-api</code>) and go to that url</li><li>In the network tab, you should see another request to <code>/callback</code>. In the request headers, there will be a <code>location</code> with a value starting with <code>vamobile:</code> that will contain a code that can be used to exchange tokens. The code should look something like <code>7ca6321-ca3e-4b51-8a4f-4b8ecf2f1597</code></li><li>To get a token with that code, ensure that your socks proxy is running and send the following Curl using your review instance and code:</li></ol><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">curl --proxy socks5h://127.0.0.1:2001 -X POST http://dbded860eb589f4ccfef2b1470e8472d-api.review.vetsgov-internal/v0/sign_in/token -H &#x27;Content-Type: application/json&#x27; -d &#x27;{&quot;grant_type&quot;: &quot;authorization_code&quot;, &quot;code_verifier&quot;: &quot;5787d673fb784c90f0e309883241803d&quot;, &quot;code&quot;: &quot;69a8cdea-6251-413f-8773-0ff7c5c82877&quot;}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="2"><li>Open network tab on browser Inspector then complete sign in</li><li>After sign in, you should notice a failed request that looks similar to:</li></ol><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">https://staging-api.va.gov/idHlwZSI6ImlkbWUiLCJjbGllbnRfaWQiOiJ3ZWIiLCJjb2RlX2NoYWxsZW5nZSI6IjFCVXB4eTM3U29JUG1Ldzk2d2JkNk1EY3ZheU9ZbTNwdFQtemJlNkxfek0iLCJjbGllbnRfc3RhdGUiOm51bGwsImNvZGUiOiJmYjNmMTVjOWU0ZDcxNWNkNjEyNjBhMmM1NzYxNzY3YyJ9.EINudwac8qI5JCFPpsYsN7Q7AkyJaQb7jzO78ZJU_GWyPsy4VShRUuYRuxegeBClnjrqkXkfqE78vU5Jjp7aViWLDmDcs2WAJaMwsFRwNEwfQi0g-XUXxWqjVup_rWfDTYWMlxNCipj3xhLN2ACMkFjxoXXlWoob_didzURc1vBEuozkseAAcsA0UOPMexnIjAfFvk11dhR6bC5_Ql14aS22WTE7D-rrngtPCTo_J4Fe-vOgpn-PPV_t5AyiLhzpqDkRlaWTbihwJ_6JpZ8FctkT42Vz4zGk6XTS33BjGv8yJvJYwgEwC2FeVpg-Em49zfkc47Bgl7DEjlDNs624lQ&amp;code=8cb3d1e45111430eafd6e2f155f067e0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="4"><li>Replace <code>https://staging-api.va.gov</code> with your review instance and go to that url in your browser (still having your network tab open)</li><li>Find a response in the network tab that has redirect to the <code>vamobile:</code> with a code that can be used to exchange tokens. Code should look something like <code>7ca6321-ca3e-4b51-8a4f-4b8ecf2f1597</code></li><li>To get a token with that code, send the following Curl but with your review instance and code:</li></ol><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST http://dbded860eb589f4ccfef2b1470e8472d-api.review.vetsgov-internal/v0/sign_in/token -H &#x27;Content-Type: application/json&#x27; -d &#x27;{&quot;grant_type&quot;: &quot;authorization_code&quot;, &quot;code_verifier&quot;: &quot;5787d673fb784c90f0e309883241803d&quot;, &quot;code&quot;: &quot;69a8cdea-6251-413f-8773-0ff7c5c82877&quot;}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/va-mobile-app/docs/Engineering/BackEnd/Testing/Prerequisites"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Prerequisites</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/va-mobile-app/docs/Engineering/BackEnd/Testing/StagingApps"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Testing the Mobile App on Staging</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#api-calls" class="table-of-contents__link toc-highlight">API Calls</a><ul><li><a href="#making-requests" class="table-of-contents__link toc-highlight">Making Requests</a></li></ul></li><li><a href="#console-access" class="table-of-contents__link toc-highlight">Console Access</a></li><li><a href="#user-token" class="table-of-contents__link toc-highlight">User Token</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/va-mobile-app/docs/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/va-mobile-app/img/va-blue-logo.png" alt="" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/va-mobile-app/img/va-blue-logo.png" alt="" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright">Copyright Â© 2023 VA Mobile App, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/va-mobile-app/assets/js/runtime~main.ebc0c5e7.js"></script>
<script src="/va-mobile-app/assets/js/main.005355d4.js"></script>
</body>
</html>